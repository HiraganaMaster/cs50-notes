#include <stdio.h>
#include <cs50.h>
#include <math.h>

long get_card_number(void);
bool input_length_validation(long input);

int main(void)
{
    long card_number = get_card_number();
    bool valid = input_length_validation(card_number);
    if (valid)
    {
        printf("VALID\n");
    }
    else
    {
        printf("INVALID\n");
    }
    return 0;
}

long get_card_number(void)
{
    long l;
    do
    {
        l = get_long("Number: ");
    }
    while (l < 0);
    return l;
}

bool input_length_validation(long input)
{
    long a = pow(10,14);
    long b = pow(10,13);
    long c = pow(10,12);
    // Mastercard 16, 51 - 55
    if (input / a > 50 && input / a < 56)
    {
        return 1;
    }
    // Visa 16 & 14, 40 - 49
    else if ((input / a >= 40 && input / a < 50) || (input / c >= 40 && input / c < 50))
    {
        return 1;
    }
    // Amex 15, 34 & 37
    else if (input / b == 34 || input / a == 37)
    {
        return 1;
    }
    else
    {
        return 0;
    }
}

// function to select digits
/*
{
    int input;
    int a, b = 0
    while (input % 10 > 0)
    {
        a = input % 10;
        b = input /= 10;
    }
}
*/
